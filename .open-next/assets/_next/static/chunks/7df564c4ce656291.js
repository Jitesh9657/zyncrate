(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68480,e=>{"use strict";var t=e.i(43476),a=e.i(71645);function l({params:e}){let[l,s]=(0,a.useState)(null),[o,n]=(0,a.useState)(null),[r,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!async function(){try{let t=await fetch(`/api/file-info?key=${e.key}`),a=await t.json();t.ok?s(a):n(a.error||"File not found")}catch(e){n(e.message)}}()},[e.key]);let d=async()=>{i(!0);try{window.location.href=`/api/download?key=${e.key}`}catch(e){console.error(e)}finally{setTimeout(()=>i(!1),2e3)}};if(o)return(0,t.jsxs)("div",{className:"p-6 text-red-500",children:["âŒ ",o]});if(!l)return(0,t.jsx)("div",{className:"p-6 text-gray-500",children:"Loading file info..."});let c=Math.floor(Math.max(0,l.expires_in-(Date.now()-l.created_at))/36e5),u=l.max_downloads-l.download_count;return(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded-lg shadow-md",children:[(0,t.jsxs)("h1",{className:"text-xl font-semibold mb-2",children:["ðŸ“„ ",l.file_name]}),(0,t.jsxs)("p",{className:"text-gray-600 text-sm mb-4",children:["Expires in: ",(0,t.jsxs)("b",{children:[c,"h"]})," â€¢ Downloads left: ",(0,t.jsx)("b",{children:u})]}),(0,t.jsx)("button",{onClick:d,disabled:r,className:`w-full py-2 mt-2 rounded-md text-white ${r?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:r?"Preparing...":"Download Now"})]})}e.s(["default",()=>l])}]);