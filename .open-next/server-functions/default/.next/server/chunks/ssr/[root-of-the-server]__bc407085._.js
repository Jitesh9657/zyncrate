module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},82468,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)(null),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{let a=new URLSearchParams(window.location.search).get("key");if(!a){f("Missing key"),h(!1);return}fetch(`/api/download?key=${encodeURIComponent(a)}&info=true`).then(a=>a.json()).then(a=>{a.error?f(a.error):d(a)}).catch(a=>{console.error("Fetch error:",a),f("Failed to fetch file info")}).finally(()=>h(!1))},[]),g)return(0,b.jsx)("p",{style:{padding:20},children:"Loading..."});if(e)return(0,b.jsx)("p",{style:{padding:20,color:"red"},children:e});if(!a)return null;let m=a.expires_at?Number(a.expires_at)-Date.now():null,n=m?Math.floor(Math.max(0,m)/36e5):"Unknown";return(0,b.jsxs)("div",{style:{padding:20},children:[(0,b.jsx)("h1",{children:"File Details"}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Name:"})," ",a.file_name]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Size:"})," ",function(a){if(!a)return"Unknown size";let b=Math.floor(Math.log(a)/Math.log(1024));return`${(a/Math.pow(1024,b)).toFixed(2)} ${["B","KB","MB","GB"][b]}`}(a.file_size)]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Uploaded:"})," ",new Date(Number(a.created_at)).toLocaleString()]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Expires In:"})," ",n," hours"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Downloads:"})," ",a.download_count," / ",a.max_downloads||"Unlimited"]}),a.locked?(0,b.jsxs)("div",{style:{marginTop:12},children:[(0,b.jsx)("p",{children:"This file is locked â€” enter the key to download:"}),(0,b.jsx)("input",{value:i,onChange:a=>j(a.target.value),placeholder:"Enter key"})]}):null,(0,b.jsx)("div",{style:{marginTop:12},children:(0,b.jsx)("button",{onClick:()=>{if(!a)return;let b=`/api/download?key=${encodeURIComponent(a.key)}`;if(a.locked){if(!i||i.length<1)return alert("Enter the download key for this file.");b+=`&lock_key=${encodeURIComponent(i)}`}l(!0),window.location.href=b,setTimeout(()=>l(!1),2e3)},disabled:k,style:{padding:"8px 16px"},children:k?"Preparing...":"Download Now"})})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__bc407085._.js.map