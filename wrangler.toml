name = "zyncrate"
compatibility_date = "2025-01-01"

[build]
command = "npm run build"
environment = { NODE_VERSION = "20.18.1" }  # âœ… Forces Node 20 on Cloudflare build

[pages]
pages_build_output_dir = ".next"
functions = "functions"  # ðŸ‘ˆ This line forces Cloudflare to detect your /functions dir

# === D1 Database Binding ===
[[d1_databases]]
binding = "DB"
database_name = "zyncrate_db"
database_id = "f45cd239-1fd5-460e-b95e-3a5df42359b8"

# === R2 Bucket Binding ===
[[r2_buckets]]
binding = "R2_Bucket"
bucket_name = "zyncrate"

# === Environment Variables (fallbacks if not in dashboard) ===
[vars]
BASE_URL = "https://zyncrate.pages.dev"
